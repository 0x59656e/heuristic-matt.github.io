<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Prometheous, Up and Running - Adrian&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Adrian&#039;s Blog"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/L_TOKYO-TAWA.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Adrian&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Deploy Prometheous to monitor node performance, cluster, application and more…"><meta property="og:type" content="blog"><meta property="og:title" content="Prometheous, Up and Running"><meta property="og:url" content="https://dumb-tiger.github.io/2021/07/28/Prometheous-Up-and-Running/"><meta property="og:site_name" content="Adrian&#039;s Blog"><meta property="og:description" content="Deploy Prometheous to monitor node performance, cluster, application and more…"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/Prometheous-Up-and-Running-cover.jpg"><meta property="article:published_time" content="2021-07-28T15:02:12.000Z"><meta property="article:modified_time" content="2021-07-28T18:18:16.253Z"><meta property="article:author" content="Adrian Hu"><meta property="article:tag" content="K8s"><meta property="article:tag" content="Prometheous"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/Prometheous-Up-and-Running-cover.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://dumb-tiger.github.io/2021/07/28/Prometheous-Up-and-Running/"},"headline":"Prometheous, Up and Running","image":["https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/Prometheous-Up-and-Running-cover.jpg"],"datePublished":"2021-07-28T15:02:12.000Z","dateModified":"2021-07-28T18:18:16.253Z","author":{"@type":"Person","name":"Adrian Hu"},"publisher":{"@type":"Organization","name":"Adrian's Blog","logo":{"@type":"ImageObject","url":"https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/L_TOKYO-TAWA.svg"}},"description":"Deploy Prometheous to monitor node performance, cluster, application and more…"}</script><link rel="canonical" href="https://dumb-tiger.github.io/2021/07/28/Prometheous-Up-and-Running/"><link rel="icon" href="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/L_TOKYO-TAWA.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/github-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/L_TOKYO-TAWA.svg" alt="Adrian&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Posts</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/Prometheous-Up-and-Running-cover.jpg" alt="Prometheous, Up and Running"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-28T15:02:12.000Z" title="7/28/2021, 11:02:12 PM">2021-07-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-28T18:18:16.253Z" title="7/29/2021, 2:18:16 AM">2021-07-29</time></span><span class="level-item"><a class="link-muted" href="/categories/Cloud-Native/">Cloud Native</a><span> / </span><a class="link-muted" href="/categories/Cloud-Native/Event-Monitoring-and-Alerting/">Event Monitoring and Alerting</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Prometheous, Up and Running</h1><div class="content"><p>Deploy Prometheous to monitor node performance, cluster, application and more…</p>
<p><escape><span id="more"></span></escape></p>
<h1 id="Prometheous"><a href="#Prometheous" class="headerlink" title="Prometheous"></a>Prometheous</h1><p>create tls</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">openssl</span> <span class="string">req</span> <span class="string">-newkey</span> <span class="string">rsa:2048</span> <span class="string">-nodes</span> <span class="string">-keyout</span> <span class="string">prometheus-dev-local-key.pem</span> <span class="string">-x509</span> <span class="string">-days</span> <span class="number">3650</span> <span class="string">-out</span> <span class="string">prometheus-dev-local-certificate.pem</span> <span class="string">-subj</span> <span class="string">&quot;/CN=prometheus.dev.local&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">kubectl</span> <span class="string">create</span> <span class="string">secret</span> <span class="string">tls</span> <span class="string">prometheus-local-dev-secret</span> <span class="string">--cert=./prometheus-dev-local-certificate.pem</span> <span class="string">--key=./prometheus-dev-local-key.pem</span></span><br></pre></td></tr></table></figure>

<p>Install</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># cat &lt;&lt; EOF &gt; prometheus-values.yml</span></span><br><span class="line"><span class="string">&gt;</span> <span class="attr">server:</span></span><br><span class="line"><span class="string">&gt;</span>   <span class="attr">ingress:</span></span><br><span class="line"><span class="string">&gt;</span>     <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&gt;</span>     <span class="attr">hosts:</span></span><br><span class="line"><span class="string">&gt;</span>       <span class="bullet">-</span> <span class="string">prometheus.dev.local</span></span><br><span class="line"><span class="string">&gt;</span>     <span class="attr">tls:</span></span><br><span class="line"><span class="string">&gt;</span>       <span class="bullet">-</span> <span class="attr">secretName:</span> <span class="string">prometheus-local-dev-secret</span></span><br><span class="line"><span class="string">&gt;</span>         <span class="attr">hosts:</span></span><br><span class="line"><span class="string">&gt;</span>           <span class="bullet">-</span> <span class="string">prometheus.dev.local</span></span><br><span class="line"><span class="string">&gt;</span> <span class="string">EOF</span></span><br><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># helm install prometheus prometheus-community/prometheus -f prometheus-values.yml</span></span><br><span class="line"><span class="attr">NAME:</span> <span class="string">prometheus</span></span><br><span class="line"><span class="attr">LAST DEPLOYED:</span> <span class="string">Sat</span> <span class="string">Jul</span> <span class="number">17</span> <span class="number">22</span><span class="string">:56:09</span> <span class="number">2021</span></span><br><span class="line"><span class="attr">NAMESPACE:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">STATUS:</span> <span class="string">deployed</span></span><br><span class="line"><span class="attr">REVISION:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">TEST SUITE:</span> <span class="string">None</span></span><br><span class="line"><span class="attr">NOTES:</span></span><br><span class="line"><span class="attr">The Prometheus server can be accessed via port 80 on the following DNS name from within your cluster:</span></span><br><span class="line"><span class="string">prometheus-server.default.svc.cluster.local</span></span><br><span class="line"></span><br><span class="line"><span class="string">From</span> <span class="string">outside</span> <span class="string">the</span> <span class="string">cluster,</span> <span class="string">the</span> <span class="string">server</span> <span class="string">URL(s)</span> <span class="attr">are:</span></span><br><span class="line"><span class="string">http://prometheus.dev.local</span></span><br><span class="line"></span><br><span class="line"><span class="attr">The Prometheus alertmanager can be accessed via port 80 on the following DNS name from within your cluster:</span></span><br><span class="line"><span class="string">prometheus-alertmanager.default.svc.cluster.local</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Get the Alertmanager URL by running these commands in the same shell:</span></span><br><span class="line">  <span class="string">export</span> <span class="string">POD_NAME=$(kubectl</span> <span class="string">get</span> <span class="string">pods</span> <span class="string">--namespace</span> <span class="string">default</span> <span class="string">-l</span> <span class="string">&quot;app=prometheus,component=alertmanager&quot;</span> <span class="string">-o</span> <span class="string">jsonpath=&quot;&#123;.items[0].metadata.name&#125;&quot;)</span></span><br><span class="line">  <span class="string">kubectl</span> <span class="string">--namespace</span> <span class="string">default</span> <span class="string">port-forward</span> <span class="string">$POD_NAME</span> <span class="number">9093</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">######   WARNING: Pod Security Policy has been moved to a global property.  #####</span></span><br><span class="line"><span class="comment">######            use .Values.podSecurityPolicy.enabled with pod-based      #####</span></span><br><span class="line"><span class="comment">######            annotations                                               #####</span></span><br><span class="line"><span class="comment">######            (e.g. .Values.nodeExporter.podSecurityPolicy.annotations) #####</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="attr">The Prometheus PushGateway can be accessed via port 9091 on the following DNS name from within your cluster:</span></span><br><span class="line"><span class="string">prometheus-pushgateway.default.svc.cluster.local</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Get the PushGateway URL by running these commands in the same shell:</span></span><br><span class="line">  <span class="string">export</span> <span class="string">POD_NAME=$(kubectl</span> <span class="string">get</span> <span class="string">pods</span> <span class="string">--namespace</span> <span class="string">default</span> <span class="string">-l</span> <span class="string">&quot;app=prometheus,component=pushgateway&quot;</span> <span class="string">-o</span> <span class="string">jsonpath=&quot;&#123;.items[0].metadata.name&#125;&quot;)</span></span><br><span class="line">  <span class="string">kubectl</span> <span class="string">--namespace</span> <span class="string">default</span> <span class="string">port-forward</span> <span class="string">$POD_NAME</span> <span class="number">9091</span></span><br><span class="line"></span><br><span class="line"><span class="string">For</span> <span class="string">more</span> <span class="string">information</span> <span class="string">on</span> <span class="string">running</span> <span class="string">Prometheus,</span> <span class="attr">visit:</span></span><br><span class="line"><span class="string">https://prometheus.io/</span></span><br></pre></td></tr></table></figure>

<p>ImagePullBackOff</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># kubectl get pods</span></span><br><span class="line"><span class="string">NAME</span>                                                        <span class="string">READY</span>   <span class="string">STATUS</span>             <span class="string">RESTARTS</span>   <span class="string">AGE</span></span><br><span class="line"><span class="string">nginx-ingress-controller-default-backend-7645cbb448-lqsn8</span>   <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>            <span class="number">7</span>          <span class="string">9d</span></span><br><span class="line"><span class="string">kubernetes-dashboard-5bc499658-2kwcl</span>                        <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>            <span class="number">5</span>          <span class="string">7d</span></span><br><span class="line"><span class="string">nginx-ingress-controller-dc849f5d5-m4bdt</span>                    <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>            <span class="number">7</span>          <span class="string">9d</span></span><br><span class="line"><span class="string">mysql-master-0</span>                                              <span class="number">2</span><span class="string">/2</span>     <span class="string">Running</span>            <span class="number">0</span>          <span class="string">151m</span></span><br><span class="line"><span class="string">prometheus-node-exporter-k6sp9</span>                              <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>            <span class="number">0</span>          <span class="string">13m</span></span><br><span class="line"><span class="string">prometheus-pushgateway-7646948557-m6pmr</span>                     <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>            <span class="number">0</span>          <span class="string">13m</span></span><br><span class="line"><span class="string">prometheus-alertmanager-84d9fdb9b8-7487n</span>                    <span class="number">2</span><span class="string">/2</span>     <span class="string">Running</span>            <span class="number">0</span>          <span class="string">13m</span></span><br><span class="line"><span class="string">prometheus-server-7878c5bc6-c9v5q</span>                           <span class="number">2</span><span class="string">/2</span>     <span class="string">Running</span>            <span class="number">0</span>          <span class="string">13m</span></span><br><span class="line"><span class="string">prometheus-kube-state-metrics-bc6c8c864-j8wrk</span>               <span class="number">0</span><span class="string">/1</span>     <span class="string">ImagePullBackOff</span>   <span class="number">0</span>          <span class="string">13m</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Events:</span></span><br><span class="line">  <span class="string">Type</span>     <span class="string">Reason</span>     <span class="string">Age</span>                   <span class="string">From</span>               <span class="string">Message</span></span><br><span class="line">  <span class="string">----</span>     <span class="string">------</span>     <span class="string">----</span>                  <span class="string">----</span>               <span class="string">-------</span></span><br><span class="line">  <span class="string">Normal</span>   <span class="string">Scheduled</span>  <span class="string">13m</span>                   <span class="string">default-scheduler</span>  <span class="string">Successfully</span> <span class="string">assigned</span> <span class="string">default/prometheus-kube-state-metrics-bc6c8c864-j8wrk</span> <span class="string">to</span> <span class="string">dev.local</span></span><br><span class="line">  <span class="string">Warning</span>  <span class="string">Failed</span>     <span class="string">13m</span>                   <span class="string">kubelet</span>            <span class="string">Failed</span> <span class="string">to</span> <span class="string">pull</span> <span class="string">image</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="attr">rpc error:</span> <span class="string">code</span> <span class="string">=</span> <span class="string">Unknown</span> <span class="string">desc</span> <span class="string">=</span> <span class="string">failed</span> <span class="string">to</span> <span class="string">pull</span> <span class="string">and</span> <span class="string">unpack</span> <span class="string">image</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="string">failed</span> <span class="string">to</span> <span class="string">resolve</span> <span class="string">reference</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="attr">failed to do request:</span> <span class="string">Head</span> <span class="attr">&quot;https://k8s.gcr.io/v2/kube-state-metrics/kube-state-metrics/manifests/v2.0.0&quot;:</span> <span class="attr">dial tcp 64.233.189.82:443:</span> <span class="string">i/o</span> <span class="string">timeout</span></span><br><span class="line">  <span class="string">Normal</span>   <span class="string">Pulling</span>    <span class="string">10m</span> <span class="string">(x4</span> <span class="string">over</span> <span class="string">13m)</span>     <span class="string">kubelet</span>            <span class="string">Pulling</span> <span class="string">image</span> <span class="string">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;</span></span><br><span class="line">  <span class="string">Warning</span>  <span class="string">Failed</span>     <span class="string">10m</span> <span class="string">(x4</span> <span class="string">over</span> <span class="string">13m)</span>     <span class="attr">kubelet            Error:</span> <span class="string">ErrImagePull</span></span><br><span class="line">  <span class="string">Warning</span>  <span class="string">Failed</span>     <span class="string">9m51s</span> <span class="string">(x6</span> <span class="string">over</span> <span class="string">13m)</span>   <span class="attr">kubelet            Error:</span> <span class="string">ImagePullBackOff</span></span><br><span class="line">  <span class="string">Warning</span>  <span class="string">Failed</span>     <span class="string">8m6s</span> <span class="string">(x4</span> <span class="string">over</span> <span class="string">12m)</span>    <span class="string">kubelet</span>            <span class="string">Failed</span> <span class="string">to</span> <span class="string">pull</span> <span class="string">image</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="attr">rpc error:</span> <span class="string">code</span> <span class="string">=</span> <span class="string">Unknown</span> <span class="string">desc</span> <span class="string">=</span> <span class="string">failed</span> <span class="string">to</span> <span class="string">pull</span> <span class="string">and</span> <span class="string">unpack</span> <span class="string">image</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="string">failed</span> <span class="string">to</span> <span class="string">resolve</span> <span class="string">reference</span> <span class="attr">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;:</span> <span class="attr">failed to do request:</span> <span class="string">Head</span> <span class="attr">&quot;https://k8s.gcr.io/v2/kube-state-metrics/kube-state-metrics/manifests/v2.0.0&quot;:</span> <span class="attr">dial tcp 108.177.97.82:443:</span> <span class="string">i/o</span> <span class="string">timeout</span></span><br><span class="line">  <span class="string">Normal</span>   <span class="string">BackOff</span>    <span class="string">3m26s</span> <span class="string">(x29</span> <span class="string">over</span> <span class="string">13m)</span>  <span class="string">kubelet</span>            <span class="string">Back-off</span> <span class="string">pulling</span> <span class="string">image</span> <span class="string">&quot;k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># ping k8s.gcr.io</span></span><br><span class="line"><span class="string">PING</span> <span class="string">googlecode.l.googleusercontent.com</span> <span class="string">(74.125.203.82)</span> <span class="number">56</span><span class="string">(84)</span> <span class="string">bytes</span> <span class="string">of</span> <span class="string">data.</span></span><br><span class="line"><span class="string">^C</span></span><br><span class="line"><span class="string">---</span> <span class="string">googlecode.l.googleusercontent.com</span> <span class="string">ping</span> <span class="string">statistics</span> <span class="string">---</span></span><br><span class="line"><span class="number">10</span> <span class="string">packets</span> <span class="string">transmitted,</span> <span class="number">0</span> <span class="string">received,</span> <span class="number">100</span><span class="string">%</span> <span class="string">packet</span> <span class="string">loss,</span> <span class="string">time</span> <span class="string">8999ms</span></span><br><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># dig k8s.gcr.io</span></span><br><span class="line"></span><br><span class="line"><span class="string">;</span> <span class="string">&lt;&lt;&gt;&gt;</span> <span class="string">DiG</span> <span class="number">9.11</span><span class="number">.4</span><span class="string">-P2-RedHat-9.11.4-26.P2.el7_9.5</span> <span class="string">&lt;&lt;&gt;&gt;</span> <span class="string">k8s.gcr.io</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">global options:</span> <span class="string">+cmd</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">Got answer:</span></span><br><span class="line"><span class="string">;;</span> <span class="string">-&gt;&gt;HEADER&lt;&lt;-</span> <span class="attr">opcode:</span> <span class="string">QUERY,</span> <span class="attr">status:</span> <span class="string">NOERROR,</span> <span class="attr">id:</span> <span class="number">10778</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">flags:</span> <span class="string">qr</span> <span class="string">rd</span> <span class="string">ra;</span> <span class="attr">QUERY:</span> <span class="number">1</span><span class="string">,</span> <span class="attr">ANSWER:</span> <span class="number">2</span><span class="string">,</span> <span class="attr">AUTHORITY:</span> <span class="number">0</span><span class="string">,</span> <span class="attr">ADDITIONAL:</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="string">;;</span> <span class="attr">OPT PSEUDOSECTION:</span></span><br><span class="line"><span class="string">;</span> <span class="attr">EDNS: version:</span> <span class="number">0</span><span class="string">,</span> <span class="string">flags:;</span> <span class="attr">udp:</span> <span class="number">4096</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">QUESTION SECTION:</span></span><br><span class="line"><span class="string">;k8s.gcr.io.</span>			<span class="string">IN</span>	<span class="string">A</span></span><br><span class="line"></span><br><span class="line"><span class="string">;;</span> <span class="attr">ANSWER SECTION:</span></span><br><span class="line"><span class="string">k8s.gcr.io.</span>		<span class="number">64700</span>	<span class="string">IN</span>	<span class="string">CNAME</span>	<span class="string">googlecode.l.googleusercontent.com.</span></span><br><span class="line"><span class="string">googlecode.l.googleusercontent.com.</span> <span class="number">511</span>	<span class="string">IN</span> <span class="string">A</span>	<span class="number">74.125</span><span class="number">.203</span><span class="number">.82</span></span><br><span class="line"></span><br><span class="line"><span class="string">;;</span> <span class="attr">Query time:</span> <span class="number">0</span> <span class="string">msec</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">SERVER:</span> <span class="number">192.168</span><span class="number">.50</span><span class="number">.1</span><span class="comment">#53(192.168.50.1)</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">WHEN:</span> <span class="string">Sat</span> <span class="string">Jul</span> <span class="number">17</span> <span class="number">23</span><span class="string">:11:34</span> <span class="string">CST</span> <span class="number">2021</span></span><br><span class="line"><span class="string">;;</span> <span class="attr">MSG SIZE  rcvd:</span> <span class="number">103</span></span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># docker pull k8s.gcr.io/kube-state-metrics/kube-state-metrics:v2.0.0</span></span><br><span class="line"><span class="attr">Error response from daemon: Get https://k8s.gcr.io/v2/: net/http:</span> <span class="string">request</span> <span class="string">canceled</span> <span class="string">while</span> <span class="string">waiting</span> <span class="string">for</span> <span class="string">connection</span> <span class="string">(Client.Timeout</span> <span class="string">exceeded</span> <span class="string">while</span> <span class="string">awaiting</span> <span class="string">headers)</span></span><br><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># docker pull bitnami/kube-state-metrics:2</span></span><br><span class="line"><span class="attr">2:</span> <span class="string">Pulling</span> <span class="string">from</span> <span class="string">bitnami/kube-state-metrics</span></span><br><span class="line"><span class="attr">76bfd0e40570:</span> <span class="string">Pull</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">19a8a9360f70:</span> <span class="string">Pull</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">56a71ce31d74:</span> <span class="string">Pull</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">c95de4ccfbd0:</span> <span class="string">Pull</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">692ee571958b:</span> <span class="string">Pull</span> <span class="string">complete</span></span><br><span class="line"><span class="attr">Digest:</span> <span class="string">sha256:2a3da8d5722834b36c6080c3d976e01ee764f2f3c4e6f3f03e92d6a2d6fb58a5</span></span><br><span class="line"><span class="attr">Status:</span> <span class="string">Downloaded</span> <span class="string">newer</span> <span class="string">image</span> <span class="string">for</span> <span class="string">bitnami/kube-state-metrics:2</span></span><br><span class="line"><span class="string">docker.io/bitnami/kube-state-metrics:2</span></span><br></pre></td></tr></table></figure>

<p>Edit ReplicaSet &amp; Deployment, update the image to another repository.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">kube-state-metrics</span></span><br><span class="line">          <span class="string">**image:</span> <span class="string">bitnami/kube-state-metrics:2.0.0**</span></span><br></pre></td></tr></table></figure>

<p>Test if it works</p>
<p><img src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/prometheus-service-test.png" alt="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/prometheus-service-test.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/prometheus-test.png" alt="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/prometheus-test.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">helm repo add grafana https://grafana.github.io/helm-charts</span><br><span class="line">helm repo update</span><br><span class="line">openssl req -newkey rsa:2048 -nodes -keyout grafana-dev-local-key.pem -x509 -days 3650 -out grafana-dev-local-certificate.pem -subj &quot;/CN=grafana.dev.local&quot;</span><br><span class="line">kubectl create secret tls grafana-local-dev-tls --cert=./grafana-dev-local-certificate.pem --key=./grafana-dev-local-key.pem</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@dev</span> <span class="string">kube-yml</span>]<span class="comment"># helm install -f my-grafana-values.yml grafana grafana/grafanaW0718 01:50:27.314145   10226 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+W0718 01:50:27.316070   10226 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+W0718 01:50:27.360206   10226 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+W0718 01:50:27.361112   10226 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+NAME: grafanaLAST DEPLOYED: Sun Jul 18 01:50:26 2021NAMESPACE: defaultSTATUS: deployedREVISION: 1NOTES:1. Get your &#x27;admin&#x27; user password by running:   kubectl get secret --namespace default grafana -o jsonpath=&quot;&#123;.data.admin-password&#125;&quot; | base64 --decode ; echo2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:   grafana.default.svc.cluster.local   If you bind grafana to 80, please update values in values.yaml and reinstall:</span></span><br></pre></td></tr></table></figure>

<p>   securityContext:<br>     runAsUser: 0<br>     runAsGroup: 0<br>     fsGroup: 0</p>
<p>   command:</p>
<ul>
<li>“setcap”</li>
<li>“‘cap_net_bind_service=+ep’”</li>
<li>“/usr/sbin/grafana-server &amp;&amp;”</li>
<li>“sh”</li>
<li>“/run.sh”</li>
</ul>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Details refer to https://grafana.com/docs/installation/configuration/#http-port.   Or grafana would always crash.   From outside the cluster, the server URL(s) are:     http://grafana.dev.local3. Login with the password from step 1 and the username: admin[root@dev kube-yml]# kubectl get secret --namespace default grafana -o jsonpath=&quot;&#123;.data.admin-password&#125;&quot; | base64 --decode ; echoRN2EPFI7MJPSLZamEp2g3jzwEyZcHXHWTZAsFaax</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/grafana-first-page.png" alt="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/grafana-first-page.png"></p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Prometheous, Up and Running</p><p><a href="https://dumb-tiger.github.io/2021/07/28/Prometheous-Up-and-Running/">https://dumb-tiger.github.io/2021/07/28/Prometheous-Up-and-Running/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Adrian Hu</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-07-28</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-07-29</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/K8s/">K8s</a><a class="link-muted mr-2" rel="tag" href="/tags/Prometheous/">Prometheous</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/07/28/Helm-in-Use-Deploy-Redis-Cluser/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Helm in Use: Deploy Redis Cluster</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/07/28/Helm-in-Use-Deploy-MySQL-Database/"><span class="level-item">Helm in Use: Deploy MySQL Database</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Prometheous"><span class="level-left"><span class="level-item">1</span><span class="level-item">Prometheous</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Blog/"><span class="level-start"><span class="level-item">Blog</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Cloud-Native/"><span class="level-start"><span class="level-item">Cloud Native</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Cloud-Native/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Cloud-Native/Event-Monitoring-and-Alerting/"><span class="level-start"><span class="level-item">Event Monitoring and Alerting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Database/Cloud-Native/"><span class="level-start"><span class="level-item">Cloud Native</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Productivity/"><span class="level-start"><span class="level-item">Productivity</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">July 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cheatsheet/"><span class="tag">Cheatsheet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloudflare/"><span class="tag">Cloudflare</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Command-Line/"><span class="tag">Command Line</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dot-Files/"><span class="tag">Dot Files</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GNU/"><span class="tag">GNU</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Helm/"><span class="tag">Helm</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ingress/"><span class="tag">Ingress</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8s/"><span class="tag">K8s</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kernel/"><span class="tag">Kernel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Key-Binding/"><span class="tag">Key Binding</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pattern-Matching/"><span class="tag">Pattern Matching</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Process/"><span class="tag">Process</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prometheous/"><span class="tag">Prometheous</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ProxyChains/"><span class="tag">ProxyChains</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shadowsocks/"><span class="tag">Shadowsocks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Systemd/"><span class="tag">Systemd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/V2Ray/"><span class="tag">V2Ray</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cheatsheet/"><span class="tag">cheatsheet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/man/"><span class="tag">man</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/tiger-avatar.jpg" alt="Adrian Hu"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Adrian Hu</p><p class="is-size-6 is-block">Devops</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">9</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">25</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/Dumb-Tiger" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Dumb-Tiger"><i class="fab fa-github"></i></a></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://cdn.jsdelivr.net/gh/Dumb-Tiger/image_repository/L_TOKYO-TAWA.svg" alt="Adrian&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2021 Adrian Hu</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>